pcodeJsonp5204([0],{725:function(e,t,n){"use strict";var o=r(n(770)),i=r(n(771));function r(e){return e&&e.__esModule?e:{default:e}}var s=n(3),a=n(1),l=n(5),d=n(772),c=n(17),u=n(87),p=n(51),h=n(0),f=n(2),m=n(122),_=n(179)(n(124)),g=n(773),v=[1,1],y=1,b=h.createComponent([f],{name:"yap-rtb-inpage",onInit:function(){var e=this.props,t=e.renderOnVisible,n=e.settings,o=void 0===n?{}:n;this.__base(),this.id="yap-"+this._getBlockId(),this.settings=o,this.pushCss(),this._isError=!1,this._triesToInitAdSDK=0,t||this.onVisible(!0)},_getModBackground:function(){var e=this.props.backgroundScale;switch((void 0===e?v:e).join(",")){case"1,-1":return"y";case"-1,1":return"x";case"-1,-1":return"xy";default:return""}},_getBlockId:function(){return this.props.blockId||this.name+y++},_getViewportStyle:function(){var e=this.settings.bgColor,t={};return e&&(t.background=e),t},_render:function(e){var t=this.settings.horizontalAlign;return h.create("yatag",{class:e(this.id,"yap-reset")},h.create("yatag",{resourceId:"root",id:this.id,class:e(t?"_center":"")},h.create("style",{type:"text/css"},this._getStyleText()+this._getAdSdkStyleText()),h.create("yatag",{class:e(),resourceId:"viewport",style:this._getViewportStyle()},h.create("canvas",{class:e(e()+"__blur",e()+"__blur_"+this._getModBackground()),resourceId:"blur"}),h.create("canvas",{class:e(e()+"__poster"),resourceId:"poster"}),h.create("yatag",{class:e(e()+"__video"),resourceId:"video"}))))},loadPredicate:function(){var e=this;d(function(){return a.isFunction(window.ya.mediaAd.bannerAd.initVideo)},"https://www.gismeteo.ru/J112C2/aaba47dg/FE78XvE-/KV23/KBgDJzDW/69wQF0/s3X6/Mp0FyGb/QKrKjFGH/XB/O5Z3ZaL/dE15h/blklspFCn0/",s.protect("BlockRtbInpage:loadPredicate",function(){return e._initVideo()}))},afterRender:function(){this._canvasPoster=this.getResourceById("poster"),this._canvasBackground=this.getResourceById("blur"),this._rootContainer=this.getResourceById("root"),this._viewportContainer=this.getResourceById("viewport"),this._videoContainer=this.getResourceById("video"),this.props.preInit&&this.loadPredicate(),this._setInitSize()},onVisible:function(e){this._startStopOnVisible(e),!this._inited&&e&&(this._inited=!0,this.props.preInit||this.loadPredicate())},_startStopOnVisible:function(e){var t=this._videoInstance;!t||this._isEnded||this._isError||(e?t.getPaused()&&t.play():t.pause())},_setInitSize:function(){var e=this.props,t=e.width,n=e.height,o={};t>0&&(o.width=t),n>0&&(o.height=n),this._rootContainer.setStyle(o)},_setSizeForRoot:function(){var e=this._rootContainer.getElement().parentNode,t=(0,i["default"])(e),n=t.width,o=t.height,r=this.props,s=r.width,a=r.height,l=s>0?s:n,d=a>0?a:o;l&&d&&(this._rootContainer.setStyle({width:l,height:d}),this._viewportContainer.setStyle({opacity:1}),this._width=l,this._height=d,this._setSizeForRoot=function(){})},_initVideo:function(){var e=this,t=this._videoContainer.getElement(),n=this.props,i=n.width,r=n.height,s=n.vastBase64,a=n.vast,l=s?u.decode(s):a,d=(0,o["default"])(l,"vpaid-string"),p=c({vastBase64:s,vast:a,width:i,height:r,keepVideoOnEnd:!0,soundOnStart:!1,unmuteInvitation:!1,showGuiForVpaid:!0},d?{autostartoff:!1,withPartnerIdAndCategory:!1,numruns:0}:{pauseAllowed:!1,skipDelay:0});window.ya.mediaAd.bannerAd.initVideo(t,p,function(t,n){return e._videoPlayerInitedCallback(t,n)})},_drawPoster:function(){var e=this._canvasBackground,t=this._canvasPoster,n=this._videoContainer,o=e.getElement(),i=t.getElement();this.setFullCanvasBackgroundSize(),o.getContext("2d").drawImage(i,0,0,o.width,o.height),t.addClass("yap-rtb-inpage__poster_show"),n.addClass("yap-rtb-inpage__video_stop")},_createVideoBackground:function(e){var t=this,n=this.settings.bgColor,o=this._canvasBackground.getElement(),i=0;this.setFullCanvasBackgroundSize();!function r(s){if(!t._isEnded){var a=new Date;a-s>100?i+=1:i=0,i>5?function i(){if(!t._isEnded){var r=t._isHorizontal;t._setSizeForRoot(),o.width=r?1:3,o.height=r?3:1,n||o.getContext("2d").drawImage(e,r?0:1,r?1:0,1,1),setTimeout(i,40)}}():(t._setSizeForRoot(),n||o.getContext("2d").drawImage(e,0,0,o.width,o.height),setTimeout(function(){return r(a)},40))}}(new Date)},_calculateSizeOfVideo:function(e,t,n,o){var i=n/o,r=i>e/t,s=r?n/e:o/t;return this._isHorizontal=r,{width:Math.ceil((r?n:o*i)/s),height:Math.ceil((r?n/i:o)/s)}},_videoPlayerInitedCallback:function(e,t){var n=this;this._isEnded&&(t.onAdStart=function(){return t.pause()}),this._isEnded||this._isInited||(this._videoInstance=t,e||!t?this._triesToInitAdSDK<=3?(this._triesToInitAdSDK+=1,setTimeout(function(){return n._initVideo()},1e3)):this._isError=!0:(this.props.shouldPlaceSoundBottonOnTheLeft&&this._moveSoundBottonToLeft(this),t.onAdStart=function(){n._isInited=!0,n._initVideoBackground()},t.onAdEnd=function(){n._isEnded=!0,n._drawPoster(),t.play()}))},_moveSoundBottonToLeft:function(){var e=this.getResourceById("root");if(e&&e.getElement()){var t=e.getElement().querySelector(".yaAdSdkGui > .topRightBlock");t&&(t.style.left="10px")}},_initVideoBackground:function(){var e=this,t=this._rootContainer.getElement().querySelector("video");if(t){var n=function n(){e._createVideoBackground(t),t.removeEventListener("timeupdate",n),t.removeEventListener("playing",n)};this._setSizeForVideo(t),t.addEventListener("timeupdate",n),t.addEventListener("playing",n),t.addEventListener("timeupdate",function(){!(t.currentTime>1.5)||e._renderEndPoster(t)})}},_setSizeForVideo:function(e){var t=this._calculateSizeOfVideo(this._width,this._height,e.videoWidth,e.videoHeight),n=t.width,o=t.height;e.style.width=n+"px",e.style.height=o+"px"},_renderEndPoster:function(e){var t=this._canvasPoster.getElement(),n=e.videoWidth,o=e.videoHeight;t.width=n,t.height=o,t.getContext("2d").drawImage(e,0,0,n,o);var i=this._calculateSizeOfVideo(this._width,this._height,t.width,t.height),r=i.width,s=i.height;t.style.width=r+"px",t.style.height=s+"px",this._renderEndPoster=function(){}},_getStyleText:function(){return m.getCSS(a.extend({id:this.id,block:this,settings:{},utils:a,Const:l}))},_getAdSdkStyleText:function(){var e="#"+p.getAlias(this.id);return e+" .yaAdSdkReplay {display: none}"+e+" "+("."+p.getAlias("yap-rtb-inpage__video_stop"))+" .yaAdSdkGui {display: none}"},pushCss:function(){this.pushStyles(_),this.__base(),this.pushStyles(g)},setFullCanvasBackgroundSize:function(){var e=this._canvasBackground.getElement();e.width=100,e.height=100}});e.exports=b},756:function(e,t,n){"use strict";var o=n(66),i=n(143),r=n(12),s=n(15),a=n(127),l=n(3),d=n(187),c=n(865),u=n(869),p=n(197),h=n(65);function f(e){this._queue=e}f.prototype={_blocks:{},render:function(e,t){var n=l.protect("Internal._loadData",function(n){this._render(e,t,n)},this);Ya.eXRpe69OtSA._asyncModeOn&&!(0,s.isLongExperiment)(r.experimentIds.ssSkipToken.ENABLED)?this._loadByQueue(e,n):this._loadData(e,n),p.hitOnce(e.pageId,e.bundle)},_loadData:function(e,t){var n=(0,o.getAdUsageStorage)(e),r=new a.DirectTesttag({adfoxexp:e.adfoxexp,adUsageStorageId:n.id});d.loadDirect({testtag:r.toString(),ssSkipTokenLength:n.ssSkipTokenLength,pageId:e.pageId,grab:e.grab,lang:e.lang,geo:e.geo},function(n){(0,i.saveGloballyIsSSP)(e.bundle,n),t(n)})},_loadByQueue:function(e,t){var n=this;this._queue.add(function(o){n._loadData(e,function(e){t(e),o()})})},_render:function(e,t,n){this._blocks[e.renderTo]&&(this._blocks[e.renderTo].destructor(),this._blocks[e.renderTo]=null),n&&n[e.internalType]?(this._blocks[e.renderTo]=this._createBlock(e,n),this._blocks[e.renderTo]&&(this._blocks[e.renderTo].render(),"function"==typeof e.onRender&&e.onRender({product:e.product,blockType:e.internalType}))):(t||h)()},_createBlock:function(e,t){var n=new u({data:t,type:e.internalType,allowRepeatAds:e.allowRepeatAds,clickMacro:e.clickMacro});return new c(n,e.renderTo,e.blockId,e.internalType,e.cspNonce)}},e.exports=f},757:function(e,t,n){"use strict";var o=n(1),i=n(19),r=["https://yasta","tic.net/awaps-ad-sdk-","js/1_0/inpage.js"].join(""),s=["https://betas","tatic.yastat","ic.net/awaps-ad-sdk-","js/1_0/inpage.js"].join("");function a(){this._reset()}a.prototype={render:function(e,t,n){var o=this._prepareConfig(e,t,n);this._isReady?this._render(o):(this._loader||(this._isBeta=t.beta,this._init()),this._queue.push(o))},_prepareConfig:function(e,t,n){return t.partnerId=e.partnerId,t.category=e.category,{renderTo:e.renderTo,userProps:t,callback:n}},_reset:function(){this._queue=[],this._onLoadDescriptor=null,this._onErrorDescriptor=null},_init:function(){this._loader=o.dom.addScript(this._getLoaderUrl()),this._onLoadDescriptor=o.domEvent.on(this._loader,"load",this._renderQueue,this,{once:!0}),this._onErrorDescriptor=o.domEvent.on(this._loader,"error",this._reportError,this,{once:!0})},_getLoaderUrl:function(){return new i({host:this._isBeta?s:r}).getUrl()},_renderQueue:function(){this._isReady=!0,o.each(this._queue,this._render,this),this._onErrorDescriptor.un(),this._reset()},_render:function(e){window.ya.mediaAd.inPage.addInPageVideo(e.renderTo,e.userProps,e.callback)},_reportError:function(e){o.each(this._queue,function(t){"function"==typeof t.callback&&t.callback(e)},this),this._onLoadDescriptor.un(),this._reset(),this._removeLoader()},_removeLoader:function(){o.dom.remove(this._loader),delete this._loader}},e.exports=a},758:function(e,t,n){"use strict";var o=n(140),i=n(3),r=n(187),s=n(870);function a(){}a.prototype={render:function(e,t,n){if(this._fullscreen)n(new Error("Second fullscreen on page denied"));else{var o=i.protect("Fullscreen.render",function(e){var o=this,i=this._prepareConfig(e);i?this._fullscreen=new s(i,t,function(e){n(new Error(e)),o._fullscreen=null}):n(new Error("Fullscreen config is invalid"))},this);this._loadData(e,t,o)}},_loadData:function(e,t,n){if(t.data)n(t.data);else{var i=new o.RtbTesttag({adfoxexp:e.adfoxexp});r.loadRtb({pageId:e.pageId,testtag:i.toString(),blockImpId:e.blockImpId,availableWidth:Math.round(document.body.clientWidth),lang:e.lang,geo:e.geo,refresh:!1},n)}},_prepareConfig:function(e){return!(!e.rtb||!e.rtb.vastBase64)&&{vastBase64:e.rtb.vastBase64}}},e.exports=a},759:function(e,t,n){"use strict";e.exports={}},765:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},766:function(e,t){var n={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},i=o(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),r=o(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,a=0,l=[];function d(e,t){for(var o=0;o<e.length;o++){var i=e[o],r=n[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(f(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(f(i.parts[s],t));n[i.id]={id:i.id,refs:1,parts:a}}}}function c(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(s):t.push(n[r]={id:r,parts:[s]})}return t}function u(e,t){var n=r(),o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function p(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",u(e,t),t}function f(e,t){var n,o,i;if(t.singleton){var r=a++;n=s||(s=h(t)),o=g.bind(null,n,r,!1),i=g.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",u(e,t),t}(t),o=function(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}.bind(null,n),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){p(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=i()),void 0===t.insertAt&&(t.insertAt="bottom");var o=c(e);return d(o,t),function(e){for(var i=[],r=0;r<o.length;r++){var s=o[r];(a=n[s.id]).refs--,i.push(a)}e&&d(c(e),t);for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete n[a.id]}}}};var m,_=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function g(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}},767:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o))e.push(i.apply(null,o));else if("object"===r)for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=i:void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},770:function(e,t,n){"use strict";t.__esModule=!0,t["default"]=function(e,t){try{for(var n=(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("MediaFile"),o=!1,i=0;i<n.length;i++){var r=n[i],s=r.textContent||"";o="VPAID"===r.getAttribute("apiFramework")&&s.indexOf(t)>-1||o}return o}catch(e){return!1}}},771:function(e,t,n){"use strict";t.__esModule=!0;var o=n(18);t["default"]=function(e){try{var t=o(getComputedStyle)?getComputedStyle(e,void 0):{},n="border-box"===t.boxSizing,i="padding-box"===t.boxSizing,r=parseFloat(t.width)||0,s=parseFloat(t.height)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,d=parseFloat(t.paddingTop)||0,c=parseFloat(t.paddingBottom)||0,u=parseFloat(t.borderLeftWidth)||0,p=parseFloat(t.borderRightWidth)||0,h=parseFloat(t.borderTopWidth)||0,f=parseFloat(t.borderBottomWidth)||0;return n?{width:r-a-l-u-p,height:s-d-c-h-f}:i?{width:r-a-l,height:s-c-d}:{width:r,height:s}}catch(e){return{width:0,height:0}}}},772:function(e,t,n){"use strict";var o=n(35),i=n(16),r=n(290),s={};e.exports=function e(t,n,a){var l=s[n]||{queue:[],isLoading:!1,timeout:null};s[n]=l,(0,o.isFunction)(a)&&l.queue.push(a),function(e){try{return Boolean(e())}catch(e){}return!1}(t)?setTimeout(function(){var e=l.queue;l.queue=[],(0,i.forEach)(e,function(e){e()}),l.isLoading=!1,clearTimeout(l.timeout)},0):l.isLoading||(l.isLoading=!0,(0,r.loadCustomScript)(window,n,function(){return e(t,n)},!1),clearTimeout(l.timeout),l.timeout=setTimeout(function(){l.isLoading=!1,e(t,n)},5e3))}},773:function(module,exports){module.exports=function(obj){var p=[];with(obj)p.push(".",id," .yap-rtb-inpage{position:relative !important;width:100% !important;height:100% !important;min-width:50px !important;min-height:30px !important;overflow:hidden !important;opacity:0 !important;font:normal 13px Arial,sans-serif !important}.",id," .yap-rtb-inpage_center{margin:auto !important}.",id," .yap-rtb-inpage .replayWrapper{display:none !important}.",id," .yap-rtb-inpage__blur{position:absolute !important;z-index:1 !important;top:-50% !important;left:-50% !important;width:200% !important;height:200% !important;-webkit-filter:blur(20px) !important;filter:blur(20px) !important}.",id," .yap-rtb-inpage__blur_x{-webkit-transform:scaleX(-1) !important;transform:scaleX(-1) !important}.",id," .yap-rtb-inpage__blur_y{-webkit-transform:scaleY(-1) !important;transform:scaleY(-1) !important}.",id," .yap-rtb-inpage__blur_xy{-webkit-transform:scale(-1) !important;transform:scale(-1) !important}.",id," .yap-rtb-inpage__poster{position:absolute !important;top:50% !important;left:50% !important;max-width:100% !important;max-height:100% !important;-webkit-transform:translate(-50%,-50%) !important;transform:translate(-50%,-50%) !important;opacity:.01 !important;z-index:1 !important}.",id," .yap-rtb-inpage__poster_show{opacity:1 !important;z-index:10 !important}.",id," .yap-rtb-inpage__video{position:relative !important;text-align:center !important;left:50% !important;top:50% !important;-webkit-transform:translate(-50%,-50%) !important;transform:translate(-50%,-50%) !important;z-index:3 !important;height:100% !important;width:100% !important;max-width:100% !important;max-height:100% !important}.",id," .yap-rtb-inpage__video video{display:block !important;margin:auto !important;max-width:none !important}.",id," .yap-rtb-inpage__video_stop{position:relative !important;z-index:11 !important;opacity:.01 !important}");return p.join("")}},865:function(e,t,n){"use strict";var o=n(120),i=n(1),r=n(86),s=n(179),a=s(n(866)),l=s(n(867)),d=n(31),c=n(18);e.exports=i.augment(r,{template:n(868).internal,advs:[],constructor:function(e,t,n,o,r){this.blockId=n,this.renderTo=i.dom.querySelector("#"+t),this._mainContId="yap-"+this.blockId,this.dataSource=e,this._type=o,this._nonce=r},render:function(e){if(this.renderTo){var t=this.dataSource,n=t.getLanguage(),i=(0,o.getLangCode)(n);this.insertCSS(this._getCss());var r=this.template({id:this._mainContId,lang:i,type:this._type,html:t.getHtml()});d.innerHTML(this.renderTo,r),this._runScripts(),t.onConfirmVisibility(),c(e)&&e()}},_runScripts:function(){var e=i.dom.querySelector("script",this.renderTo);i.each(e,function(e){var t=e.parentNode,n=document.createElement("script");n.text=e.text,this._nonce&&n.setAttribute("nonce",this._nonce),t.removeChild(e),t.appendChild(n)},this)},_getCss:function(){var e={id:this._mainContId};return a(e)+l(e)}})},866:function(module,exports){module.exports=function(obj){var p=[];with(obj)p.push(".",id,"{display:block !important}.",id,",.",id,",.",id," a,.",id," b,.",id," em,.",id," iframe,.",id," img,.",id," table,.",id," tbody,.",id," td,.",id," tr{box-sizing:content-box !important;-webkit-hyphens:manual !important;-ms-hyphens:manual !important;hyphens:manual !important}.",id,",.",id," a,.",id," b,.",id," em,.",id," iframe,.",id," img,.",id," table,.",id," tbody,.",id," td,.",id," tr{font-size:inherit !important;background:none !important;border:none !important;border-radius:0 !important;border-spacing:0 !important;border-collapse:collapse !important;clear:none !important;float:none !important;font-variant:normal !important;font-weight:400 !important;letter-spacing:normal !important;line-height:normal !important;margin:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;outline:none !important;padding:0 !important;position:static !important;text-align:left !important;text-decoration:none !important;text-indent:0 !important;text-transform:none !important;vertical-align:baseline !important;visibility:visible !important;word-spacing:normal !important}.",id,",.",id," a,.",id," b,.",id," em,.",id," img,.",id," table,.",id," tbody,.",id," td,.",id," tr{height:auto !important}.",id," table{display:table !important;empty-cells:hide !important;table-layout:fixed !important}.",id," table,.",id," td{font-size:100% !important}.",id," td{display:table-cell !important;vertical-align:middle !important}");return p.join("")}},867:function(module,exports){module.exports=function(obj){var p=[];with(obj)p.push(".",id," .yap-internal{overflow:hidden !important}");return p.join("")}},868:function(module,exports,__webpack_require__){var util=__webpack_require__(1),Const=__webpack_require__(5),env=__webpack_require__(3),getString=__webpack_require__(4)["default"],templates={internal:function(obj){var p=[];with(obj)p.push('<yatag class="',id,' yap-reset" id="',id,'" lang="',lang,'"><yatag class="yap-internal yap-internal_type_',type,'">',html,"</yatag></yatag>");return p.join("")}};module.exports=templates},869:function(e,t,n){"use strict";var o=n(66),i=n(127),r=n(1),s=n(19),a=n(139),l=n(5),d=n(324);e.exports=r.augment(d,{constructor:function(e){this._data=e.data,this._type=e.type,this._banner=this._data[this._type],this._adUsageStorage=(0,o.getAdUsageStorage)(e)},getHtml:function(){return this._banner.html},onConfirmVisibility:function(){var e=new i.DirectTesttag({format:a.getFormatByName(l.BlockTypes.INTERNAL).index,adUsageStorageId:this._adUsageStorage.id}),t=new s({host:this.getLinkHead()+this._banner.linkTail,params:{"test-tag":e.toString(),wmode:0}});(new Image).src=t.getUrl()}})},870:function(e,t,n){"use strict";var o=n(0),i=n(871).Store,r=n(872),s=n(4)["default"],a=n(17);e.exports=function(e,t,n){var l=i.getById("banner.fullscreen"),d=a({store:l,hasMoreButton:!0,moreButtonText:s("MORE",1),advText:s("ADVERTISMENT",1)},e);l.on("error",function(e){return n(e)}),l.on("destroy",function(){c.destroy()}),l.on("videoEnd",function(){e.onVideoEnd&&e.onVideoEnd(),t.onVideoEnd&&t.onVideoEnd(),c.destroy()}),l.on("videoStart",function(){e.onVideoStart&&e.onVideoStart(),t.onVideoStart&&t.onVideoStart()});var c=new r(d),u=o.render(c);document.body.appendChild(u)}},871:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var i=function(){function e(){this.values={},this.events={}}return e.getById=function(t){return t?e.stores[t]||(e.stores[t]=new e):e.getDefaultStore()},e.getDefaultStore=function(){return e.stores[e.DEFAULT_STORE_ID]||(e.stores[e.DEFAULT_STORE_ID]=new e),e.stores[e.DEFAULT_STORE_ID]},e.prototype.getValue=function(e){return this.values[e]},e.prototype.setValue=function(e,t){return this.values[e]=t,t},e.prototype.on=function(e,t){if("object"===(void 0===e?"undefined":o(e)))for(var n in e){var i=e[n];"function"==typeof i&&this.bind(n,i)}else"function"==typeof t&&this.bind(e,t)},e.prototype.bind=function(e,t){var n=this;e.split(" ").filter(function(e){return e}).forEach(function(e){n.events[e]=n.events[e]||[],-1===n.events[e].indexOf(t)&&n.events[e].push(t)})},e.prototype.off=function(e,t){var n=this.events[e]||[],o=[],i=n.length;if("string"==typeof e)if("function"==typeof t){for(var r=0;r<i;r++)n[r]!==t&&o.push(n[r]);this.events[e]=o}else this.events[e]=[]},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.events[e]||[],i=o.length;if(o&&o.length)for(var r=0;r<i;r++){o[r].apply(null,t)}},e.DEFAULT_STORE_ID="default",e.stores={},e}();t.Store=i},872:function(e,t,n){"use strict";var o=n(0),i=n(873),r=n(888),s=o.createComponent({beforeRender:function(){var e=this.props.store;e.on("videoStart",function(t){var n=parseInt(t);n>0?e.trigger("startTimer",1e3*n):e.trigger("hideTimer")}),e.on("adPlayStateChanged",function(t){return e.trigger(t?"resumeTimer":"pauseTimer")}),e.on("videoEnd",function(){return e.trigger("finishTimer")})},render:function(){var e=this.props;return e.isMuteButtonVisible="boolean"!=typeof e.isMuteButtonVisible||e.isMuteButtonVisible,e.reference="",o.create(i,e,o.create(r,e))}});e.exports=s},873:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0),r=n(874),s=n(883),a=n(886),l=n(32),d=n(767),c={additionalClass:"",advText:"",hasMoreButton:!0,isMuteButtonVisible:!1,isMutedAtStart:!1,isTimerVisible:!0,moreButtonText:"",moreButtonStyle:"",closeButtonImageUrl:"",muteButtonImageUrl:"",unMuteButtonImageUrl:"",timerColor:"#fff",time:0,timeCloseButtonVisible:5,reference:"",zIndex:999999},u=i.createComponent({onInit:function(){window.Ya||(window.Ya={}),window.Ya.isFullscreenStarted?this.props.store.trigger("error","Second fullscreen on page denied"):window.Ya.isFullscreenStarted=!0},beforeRender:function(){this.props=o({},c,this.props),this._initRenderEvents()},afterRender:function(){this._inner=this.getResourceById("inner"),this._wrapper=this.getResourceById("wrapper"),this._curtain=this.getResourceById("curtain"),this._wrapper.getElement().style.zIndex=this.props.zIndex,this._initResize()},render:function(){var e=this.props,t=e.advText,n=e.hasMoreButton,o=e.isMuteButtonVisible,l=e.isTimerVisible,d=e.moreButtonText,c=-1!==e.timeCloseButtonVisible;return i.create("div",{class:this._getStylesForContainer(),resourceId:"wrapper"},l||c||o||t?i.create(r,this.props):null,i.create("div",{resourceId:"curtain",class:a["fullscreen__curtain"]}),n&&d?i.create(s,this.props):null,i.create("div",{class:a["fullscreen-container"]},i.create("div",{class:a["fullscreen-container__inner"],resourceId:"inner"},this.__children)))},onDestroy:function(){l.un(this._resizeDescriptor)},_initResize:function(){this._resizeDescriptor=l.on(window,"resize",this._setSize,this,{passive:!0})},_setVisible:function(){this._wrapper.addClass(a["fullscreen_visible"])},_updateCurtainVisibility:function(e){this._curtain.getElement().style.display=e?"block":"none"},_onResize:function(e){void 0!==e&&void 0!==e.width&&void 0!==e.height&&(this.props.bannerWidth=e.width+"px",this.props.bannerHeight=e.height+"px"),this._setSize()},_initRenderEvents:function(){var e=this,t=this.props.store;t.on("render",function(t){e._onResize(t),e._setVisible()}),t.on("resize",function(t){e._onResize(t)}),t.on("adPlayStateChanged",function(t,n){var o=e.props,i=o.hasMoreButton,r=o.moreButtonText;e._updateCurtainVisibility(t&&n&&i&&r)})},_getStylesForContainer:function(){var e=this.props.additionalClass;return d(a["fullscreen"],e)},_setSize:function(){var e=this.props,t=e.bannerWidth,n=e.bannerHeight,o=this._inner.getElement().style;o.width=t,o.height=n}});e.exports=u},874:function(e,t,n){"use strict";var o=n(0),i=n(875),r=n(881),s=n(767),a=o.createComponent({beforeRender:function(){this._initRenderEvents()},afterRender:function(){this._muted=this.props.isMutedAtStart,this._close=this.getResourceById("close"),this._counter=this.getResourceById("counter"),this._mute=this.getResourceById("mute")},render:function(){var e=this.props,t=e.advText,n=e.isMuteButtonVisible,s=e.isMutedAtStart,a=e.isTimerVisible,l=e.timeCloseButtonVisible,d=e.store,c=e.timerColor,u=-1!==l;return o.create("div",{class:this._getStylesForHeader()},n?o.create("div",{class:this._getClassesForMuteButton(),style:this._getStyleForMuteButton(s),resourceId:"mute",onClick:this._onClickOnMute}):null,u?o.create("div",{class:this.getClassesForCloseButton(),style:this.getStyleForCloseButton(),resourceId:"close",onClick:this._onClickOnClose}):null,a?o.create("div",{class:r["fullscreen-header__counter"],resourceId:"counter"},o.create(i,{size:"30",store:d,color:c})):null,t?o.create("div",{class:this._getStylesForAdvText()},t):null)},_onClickOnClose:function(){this.props.store.trigger("clickClose"),this.props.store.trigger("destroy")},_onClickOnMute:function(){var e=r["fullscreen-header__mute_muted"];this._muted=!this._muted,this._mute.toggleClass(e,this._muted);var t=this._getImageForMuteButton(this._muted);t&&this._mute.setStyle("background-image","url('"+t+"')"),this.props.store.trigger("clickOnMute",this._muted)},_updateMuteVisibility:function(e){this._mute.getElement().style.display=e?"block":"none"},_initRenderEvents:function(){var e=this,t=this.props.store;t.on("adPlayStateChanged",function(t,n){e._updateMuteVisibility(n)}),t.on("hideTimer",function(){return e._hideCounter()}),t.on("progressUpdate",function(t){t>e.props.timeCloseButtonVisible&&e._showCloseButton()}),t.on("showCloseButton",function(){return e._showCloseButton()})},_showCloseButton:function(){this._close&&this._close.removeClass(r["fullscreen-header__close_invisible"])},_getClassesForMuteButton:function(){var e=[r["fullscreen-header__mute"]];return this.props.isMutedAtStart>0&&e.push(r["fullscreen-header__mute_muted"]),s(e)},_getStyleForMuteButton:function(e){var t=this._getImageForMuteButton(e);return t?"background-image: url('"+t+"');":""},_getImageForMuteButton:function(e){var t=this.props,n=t.muteButtonImageUrl,o=t.unMuteButtonImageUrl;return n&&o?e?o:n:""},_getStylesForHeader:function(){var e=this.props.additionalClass,t=[r["fullscreen-header"]];return e&&t.push(e+"-header"),s(t)},_getStylesForAdvText:function(){var e=this.props.additionalClass,t=[r["fullscreen-header__adv-text"]];return e&&t.push(e+"-header__adv-text"),s(t)},getClassesForCloseButton:function(){var e=this.props,t=e.additionalClass,n=e.timeCloseButtonVisible,o=[r["fullscreen-header__close"]];return n>0&&o.push(r["fullscreen-header__close_invisible"]),t&&o.push(t+"-header__close"),s(o)},getStyleForCloseButton:function(){var e=this.props.closeButtonImageUrl;return e?"background-image: url('"+e+"');":""},_hideCounter:function(){this._counter.getElement().style.display="none"}});e.exports=a},875:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(0),r=n(876),s=n(37).requestAnimationFrame,a=n(879),l={color:"#fff",maxValue:10,size:50,direction:-1,startProgress:1},d=i.createComponent({beforeRender:function(){this.props=o({},l,this.props),this._initTimerStartEvent()},render:function(){return i.create("div",{class:a["fullscreen-timer"]},i.create(r,o({},this.props,{resourceId:"adCountdown",noTransition:!0})))},afterRender:function(){this._adCountdown=this.getResourceById("adCountdown"),this._isRendered=!0,this._isTimerStarted&&this._startTimer()},_initTimerStartEvent:function(){var e=this,t=this.props.store;t.on("startTimer",function(t){return e._onTimerStartEvent(t)}),t.on("pauseTimer",function(){return e._onTimerPauseEvent()}),t.on("resumeTimer",function(){return e._onTimerResumeEvent()})},_onTimerStartEvent:function(e){this._time=e,this._isRendered?this._startTimer():this._isTimerStarted=!0},_onTimerPauseEvent:function(){this._isTimerActive=!1},_onTimerResumeEvent:function(){this._isRendered&&(this._lastDate=new Date,this._isTimerActive=!0,this._startAnimation())},_startTimer:function(){this._isTimerActive=!0,this._progress=0,this._lastDate=new Date,this._startAnimation()},_startAnimation:function(){var e=this;s(function t(){e._computeTime(),e._isTimerActive&&s(t)})},_computeTime:function(){var e=new Date;this._progress+=e.getTime()-this._lastDate.getTime(),this._lastDate=e,this._progress>this._time&&(this._isTimerActive=!1),this._adCountdown.progress(Math.max(1-this._progress/this._time,0)),this._adCountdown.setMaxValue(this._time/1e3)}});e.exports=d},876:function(e,t,n){"use strict";var o=n(0),i=n(877),r=n(767),s=o.createComponent({beforeRender:function(){var e=this.props,t=e.maxValue,n=e.direction,o=void 0===n?1:n,i=e.startProgress,r=void 0===i?0:i;this._hasCount=!1,isNaN(t)?this._maxValue=30:(this._maxValue=t,this._hasCount=!0),this._current=r,this._direction=o},setMaxValue:function(e){this._maxValue=e},_getCountElem:function(){if(this._countElem)return this._countElem;var e=this.getResourceById("count");return e?(this._countElem=e.getElement(),this._countElem):null},_getCircleElem:function(){if(this._circleElem)return this._circleElem;var e=this.getResourceById("circle");return e?(this._circleElem=e.getElement(),this._circleElem):null},_updateCount:function(){var e=Math.ceil(this._current*this._maxValue),t=this._getCountElem();t&&(t.textContent=Math.min(e,99))},progress:function(e){this._current=e,this._setCircleAttributes(),this._hasCount&&this._updateCount()},_setCircleAttributes:function(){var e=this._getCircleElem();e&&e.setAttribute("stroke-dashoffset",this._strokeDashOffset*this._direction*(1+this._current))},_getStylesForContainer:function(){var e=this.props.additionalClass;return r(i["ad-countdown"],e)},_getStylesForCircle:function(){var e=[];return this.props.noTransition||e.push(i["ad-countdown__circle-transition"]),r(e)},render:function(){var e=this.props,t=e.size,n=void 0===t?30:t,r=e.label,s=void 0===r?"":r,a=e.color,l=void 0===a?"#000":a,d=e.strokeWidth,c=void 0===d?2:d,u=n-2*c,p=Math.PI*u;return this._strokeDashOffset=-p,o.create("div",{class:this._getStylesForContainer(),style:"color:"+l+";"},o.create("div",{class:i["ad-countdown__circle-container"],style:"width:"+n+"px; height:"+n+"px;"},o.create("svg",{viewBox:"0 0 "+n+" "+n,version:"1.1"},o.create("circle",{class:this._getStylesForCircle(),fill:"transparent","stroke-dasharray":p,"stroke-dashoffset":this._strokeDashOffset,"stroke-width":c,stroke:l,transform:"rotate(-90)",cx:-n/2,cy:n/2,r:u/2,resourceId:"circle"})),this._hasCount?o.create("div",{class:i["ad-countdown__count"],resourceId:"count"}):null),s?o.create("div",{class:i["ad-countdown__label"]},s):null)}});e.exports=s},877:function(e,t,n){var o=n(878);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},878:function(e,t,n){(t=e.exports=n(765)()).push([e.i,".node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown{position:relative;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__count{position:absolute;width:100%;top:50%;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__label{margin-left:7px}.node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__circle-container{position:relative}.node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__circle-transition{transition:stroke-dashoffset .1s linear}",""]),t.locals={"ad-countdown":"node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown","ad-countdown__count":"node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__count","ad-countdown__label":"node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__label","ad-countdown__circle-container":"node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__circle-container","ad-countdown__circle-transition":"node_modules-common-pcode-components-ad-countdown-ad-countdown---ad-countdown__circle-transition"}},879:function(e,t,n){var o=n(880);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},880:function(e,t,n){(t=e.exports=n(765)()).push([e.i,".node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer{position:relative;height:100%;width:100%}.node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer__canvas,.node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer__number{position:absolute;top:0;left:0;width:100%;height:100%}",""]),t.locals={"fullscreen-timer":"node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer","fullscreen-timer__canvas":"node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer__canvas","fullscreen-timer__number":"node_modules-common-pcode-components-fullscreen-timer---fullscreen-timer__number"}},881:function(e,t,n){var o=n(882);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},882:function(e,t,n){(t=e.exports=n(765)()).push([e.i,".node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header{z-index:4;font-weight:300;left:0;width:100%;line-height:50px;background-image:linear-gradient(-180deg,rgba(0,0,0,.4),transparent);color:#fff;font-size:12px;font-family:sans-serif}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header,.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__close{position:absolute;top:0;height:50px;text-align:center}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__close{right:0;cursor:pointer;width:50px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle opacity='.2' cx='20' cy='20' r='13.5'/%3E%3Cpath fill='%23fff' d='M27 13.7l-.7-.7-6.3 6.3-6.3-6.3-.7.7 6.3 6.3-6.3 6.3.7.7 6.3-6.3 6.3 6.3.7-.7-6.3-6.3z'/%3E%3C/svg%3E\") no-repeat 50%}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__close_invisible{display:none}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__mute{position:absolute;left:0;top:0;cursor:pointer;text-align:center;height:50px;width:50px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='20' r='13.5' opacity='.2'/%3E%3Cpath d='M24 16.4c1.4.6 2.4 2 2.4 3.5 0 1.6-1 2.9-2.4 3.5v-1.8c.5-.4.8-1 .8-1.7 0-.6-.3-1.2-.8-1.7v-1.8zm-10 1.1h3l5-4v13l-5-4h-3v-5z' fill='%23FFF'/%3E%3C/svg%3E\") no-repeat 50%;z-index:2;display:none}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__mute_muted{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='20' r='13.5' opacity='.2'/%3E%3Cpath d='M26.7 20.4l2.3-2.3-1.1-1.1-2.3 2.3-2.3-2.3-1.2 1.1 2.3 2.3-2.3 2.3 1.2 1.2 2.3-2.3 2.3 2.3 1.1-1.2-2.3-2.3zM13 17.5h3l5-4v13l-5-4h-3v-5z' fill='%23FFF'/%3E%3C/svg%3E\") no-repeat 50%}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__counter{height:30px;width:30px;display:inline-block;vertical-align:middle}.node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__adv-text{margin-left:5px;display:inline-block;vertical-align:middle}",""]),t.locals={"fullscreen-header":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header","fullscreen-header__close":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__close","fullscreen-header__close_invisible":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__close_invisible","fullscreen-header__mute":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__mute","fullscreen-header__mute_muted":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__mute_muted","fullscreen-header__counter":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__counter","fullscreen-header__adv-text":"node_modules-common-pcode-components-fullscreen-fullscreenHeader---fullscreen-header__adv-text"}},883:function(e,t,n){"use strict";var o=n(0),i=n(884),r=n(767),s=o.createComponent({beforeRender:function(){this._initRenderEvents()},afterRender:function(){this._moreButton=this.getResourceById("moreButton")},render:function(){var e=this.props,t=e.moreButtonText,n=e.reference,r=e.moreButtonStyle;return o.create("a",{href:n||"javascript:void(0)",class:i["fullscreen-more"],resourceId:"moreButton",onClick:this._onClickThrough},o.create("div",{class:this._getStylesForMoreButton(),style:r},t))},_onClickThrough:function(){this.props.store.trigger("clickThrough"),this.props.store.trigger("destroy")},_updateMoreButtonVisibility:function(e){this._moreButton&&this._moreButton.toggleClass(i["fullscreen-more_invisible"],!e)},_initRenderEvents:function(){var e=this;this.props.store.on("adPlayStateChanged",function(t,n){e._updateMoreButtonVisibility(n)})},_getStylesForMoreButton:function(){var e=this.props.additionalClass,t=[i["fullscreen-more__button"]];return e&&t.push(e+"-more__button"),r(t)}});e.exports=s},884:function(e,t,n){var o=n(885);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},885:function(e,t,n){(t=e.exports=n(765)()).push([e.i,".node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more{z-index:3;position:absolute;text-align:center;cursor:pointer;left:50%;bottom:20px}.node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more__button{font-weight:300;text-decoration:none;display:inline-block;background:#fff;padding:9px 25px;min-height:27px;line-height:1.3;box-shadow:0 2px 4px 0 rgba(0,0,0,.18);font-size:20px;color:#000;font-family:sans-serif;position:relative;left:-50%}.node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more_invisible{display:none}",""]),t.locals={"fullscreen-more":"node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more","fullscreen-more__button":"node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more__button","fullscreen-more_invisible":"node_modules-common-pcode-components-fullscreen-fullscreenMoreButton---fullscreen-more_invisible"}},886:function(e,t,n){var o=n(887);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},887:function(e,t,n){(t=e.exports=n(765)()).push([e.i,'.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen{position:fixed;top:0;left:-100%;width:100%;bottom:0;background-color:rgba(0,0,0,.7)}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen_visible{left:0}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen__curtain{position:absolute;z-index:2;width:100%;height:100%;display:none}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container{height:100%;width:100%;text-align:center;display:block;position:relative;z-index:1}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container:before{content:""}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container:before,.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container__inner{display:inline-block;height:100%;vertical-align:middle}.node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container__inner{width:100%;max-width:100%;max-height:100%;background:50% 50% no-repeat;background-size:contain}',""]),t.locals={fullscreen:"node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen",fullscreen_visible:"node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen_visible",fullscreen__curtain:"node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen__curtain","fullscreen-container":"node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container","fullscreen-container__inner":"node_modules-common-pcode-components-fullscreen-fullscreen---fullscreen-container__inner"}},888:function(e,t,n){"use strict";var o=n(290).loadCustomScript,i=n(0),r=n(300),s=n(889),a=i.createComponent({_getId:function(){return this._id||(this._id="video_fullscreen_"+r()),this._id},beforeRender:function(){var e=this,t=this.props.store;t.on("clickOnMute",function(t){return e._toggleMute(t)}),t.on("clickThrough",function(){return e._clickThrough()})},render:function(){return i.create("div",{id:this._getId(),resourceId:"container",class:s["fullscreen-video"]})},afterRender:function(){this._loadVideoSDK()},_loadVideoSDK:function(){var e=this;o(window,"https://www.gismeteo.ru/J112C2/aaba47dg/FE78XvE-/KV23/KBgDJzDW/69wQF0/s3X6/Mp0FyGb/QKrKjFGH/XB/O5Z3ZaI/cVBzi/-VRhA/",function(){return e._initVideo()},!1)},_initVideo:function(){var e=this,t={autostartoff:!1,category:this.props.videoCategoryId,impId:this.props.impId,impressionOffset:0,keepVideoOnEnd:!1,numruns:1,partnerId:this.props.partnerId,pauseAllowed:!1,soundOnStart:!this.props.isMutedAtStart,switchVolumeOnRollOver:!1,unmuteInvitation:!1,vast:this.props.vast,vastBase64:this.props.vastBase64,visitSiteShow:!1,showGuiForVpaid:!0,yandexADXInsteadOfAdFoxFail:!1,showTimeLeft:!1,showSoundButton:!1,showSkipTimeLeft:!1,showTitle:!1,showSkipButton:!1,upscale:!1};window.ya.mediaAd.bannerAd.initVideo(this._getId(),t,function(t,n){t?e._onVideoError():e._onVideoInit(n)})},_onVideoError:function(){this.props.store.trigger("destroy")},_onVideoInit:function(e){var t=this;this._videoAdController=e;var n=this.props.store;e.onAdEnd=function(){t._stopProgressUpdate(),n.trigger("videoEnd")},e.onBeforeAdStart=function(){return t._onBeforeAdStart()},e.onAdMediaStart=function(){return t._onAdMediaStart()},e.onAdStart=function(){return t._onAdStart()},e.onPlayStateChanged=function(t){var o=e.getCurrentContentType?"video"===e.getCurrentContentType():e.getCurrentClickability();n.trigger("adPlayStateChanged",t,o)},e.onClickThrough=function(){return n.trigger("destroy")}},onDestroy:function(){this._stopProgressUpdate(),this._videoAdController&&(this._videoAdController.destroy(),this._videoAdController=null)},_onBeforeAdStart:function(){this.props.store.trigger("render",this._getVideoSize())},_onAdMediaStart:function(){var e=this._videoAdController,t=this._getVideoSize();this._defaultVolume=e.getVolume()>0?e.getVolume():.5,this.props.store.trigger("resize",t),e.displayController.resizeAd(t.width,t.height),this._startProgressUpdate()},_onAdStart:function(){this.props.store.trigger("videoStart",this._videoAdController.getDuration())},_startProgressUpdate:function(){var e=this;this._updateInterval=setInterval(function(){return e._updateProgress()},300)},_stopProgressUpdate:function(){clearInterval(this._updateInterval)},_updateProgress:function(){this._videoAdController&&this.props.store.trigger("progressUpdate",this._videoAdController.getCurrentTime(),this._videoAdController.getDuration())},_toggleMute:function(e){this._videoAdController&&this._videoAdController.setVolume(e?0:this._defaultVolume)},_clickThrough:function(){this._videoAdController&&this._videoAdController.clickThrough()},_getVideoSize:function(){var e=window.innerWidth,t=window.innerHeight,n=this._videoAdController.getAdWidth(),o=this._videoAdController.getAdHeight();if(n>e||o>t){var i=n/o;i>e/t?(n=e,o=e/i):(n=t*i,o=t)}return{width:n||e,height:o||e/(4/3)}}});e.exports=a},889:function(e,t,n){var o=n(890);"string"==typeof o&&(o=[[e.i,o,""]]);n(766)(o,{singleton:!0});o.locals&&(e.exports=o.locals)},890:function(e,t,n){(t=e.exports=n(765)()).push([e.i,".node_modules-common-pcode-components-fullscreen-video-fullscreenVideo---fullscreen-video{height:100%;width:100%;max-height:100vh;max-width:100vw}",""]),t.locals={"fullscreen-video":"node_modules-common-pcode-components-fullscreen-video-fullscreenVideo---fullscreen-video"}}});